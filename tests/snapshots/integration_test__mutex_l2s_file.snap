---
source: tests/integration_test.rs
expression: output
---
sort thread

mutable relation _old_l2s_g_0()
mutable relation _old_l2s_g_2(?)
mutable relation _old_l2s_g_3(?)
mutable relation _old_l2s_g_4(?)
mutable relation d(?)
mutable relation l2s_a(?)
mutable relation l2s_d(?)
mutable relation l2s_frozen()
mutable relation l2s_g_0()
mutable relation l2s_g_1
mutable relation l2s_g_2(?)
mutable relation l2s_g_3(?)
mutable relation l2s_g_4(?)
mutable relation l2s_s_0()
mutable relation l2s_s_1(?)
mutable relation l2s_s_2(?)
mutable relation l2s_s_3(?)
mutable relation l2s_s_4(?)
mutable relation l2s_s_5(?)
mutable relation l2s_s_6(?)
mutable relation l2s_s_7(?)
mutable relation l2s_saved()
mutable relation l2s_w_0()
mutable relation l2s_w_1(?)
mutable relation l2s_waiting()
mutable relation locked()
mutable relation pc_atomic_cas(thread)
mutable relation pc_atomic_store(thread)
mutable relation pc_finished(thread)
mutable relation pc_futex_wait(thread)
mutable relation pc_futex_wake(thread)
mutable relation pc_kernel_wait(thread)
mutable relation queue(thread)
mutable relation scheduled(?)
mutable relation havoc_l2s_g_0()
mutable relation havoc_l2s_g_0__1()
mutable relation havoc_l2s_g_2(?)
mutable relation havoc_l2s_g_2__1(?)
mutable relation havoc_l2s_g_3(?)
mutable relation havoc_l2s_g_3__1(?)
mutable relation havoc_l2s_g_3__10(?)
mutable relation havoc_l2s_g_3__11(?)
mutable relation havoc_l2s_g_3__12(?)
mutable relation havoc_l2s_g_3__13(?)
mutable relation havoc_l2s_g_3__2(?)
mutable relation havoc_l2s_g_3__3(?)
mutable relation havoc_l2s_g_3__4(?)
mutable relation havoc_l2s_g_3__5(?)
mutable relation havoc_l2s_g_3__6(?)
mutable relation havoc_l2s_g_3__7(?)
mutable relation havoc_l2s_g_3__8(?)
mutable relation havoc_l2s_g_3__9(?)
mutable relation havoc_l2s_g_4(?)
mutable relation havoc_l2s_g_4__1(?)
mutable relation havoc_l2s_g_4__10(?)
mutable relation havoc_l2s_g_4__11(?)
mutable relation havoc_l2s_g_4__12(?)
mutable relation havoc_l2s_g_4__13(?)
mutable relation havoc_l2s_g_4__2(?)
mutable relation havoc_l2s_g_4__3(?)
mutable relation havoc_l2s_g_4__4(?)
mutable relation havoc_l2s_g_4__5(?)
mutable relation havoc_l2s_g_4__6(?)
mutable relation havoc_l2s_g_4__7(?)
mutable relation havoc_l2s_g_4__8(?)
mutable relation havoc_l2s_g_4__9(?)
mutable relation havoc_path
mutable relation havoc_path__1

init pc_atomic_cas(T) <-> true
init pc_futex_wait(T) <-> false
init pc_kernel_wait(T) <-> false
init pc_atomic_store(T) <-> false
init pc_futex_wake(T) <-> false
init pc_finished(T) <-> false
init locked <-> false
init queue(T) <-> false
init scheduled(T) <-> false
init d(T) <-> false
init l2s_waiting <-> true
init l2s_frozen <-> false
init l2s_saved <-> false
init l2s_d(t0) <-> true
init l2s_w_1(V0) <-> (l2s_d(V0) & (!(scheduled(V0) & !l2s_g_3(V0))))
init l2s_w_0 <-> (!((forall T. d(T)) & !l2s_g_1))
init (l2s_g_1 -> (!(forall T. d(T))))
init (forall V0. l2s_g_4(V0) -> !l2s_g_3(V0))
init (l2s_g_0 -> !pc_finished(t0))
init (forall V0. l2s_g_3(V0) -> !scheduled(V0))
init (forall V0. l2s_g_2(V0) -> !pc_finished(V0))
init (!(((exists T0. l2s_g_2(T0)) -> l2s_g_0) & (!(l2s_g_1 -> ((forall T. l2s_g_4(T)) -> (forall T. !l2s_g_2(T)))))))

transition step_atomic_store(t)
  modifies _old_l2s_g_3, _old_l2s_g_4, l2s_d, l2s_g_3, l2s_g_4, l2s_w_1, locked, pc_atomic_store, pc_futex_wake, scheduled
  # assumes:
  & (l2s_g_1 -> (!(forall T. d(T))))
  & (forall V0. l2s_g_4(V0) -> !l2s_g_3(V0))
  & (l2s_g_0 -> !pc_finished(t0))
  & (forall V0. l2s_g_3(V0) -> !scheduled(V0))
  & (forall V0. l2s_g_2(V0) -> !pc_finished(V0))
  & pc_atomic_store(t)
  & (forall V0. l2s_g_3(V0) -> havoc_l2s_g_3(V0))
  & (forall V0. !(l2s_g_3(V0) & (!(scheduled(V0) -> !havoc_l2s_g_3(V0)))))
  & (forall V0. l2s_g_4(V0) -> havoc_l2s_g_4(V0))
  & (forall V0. !(l2s_g_4(V0) & (!(havoc_l2s_g_3(V0) -> !havoc_l2s_g_4(V0)))))
  & (forall V0. havoc_l2s_g_3(V0) -> (!(V0 = t)))
  & (forall V0. havoc_l2s_g_4(V0) -> !havoc_l2s_g_3(V0))
  & (forall V0. havoc_l2s_g_3(V0) -> havoc_l2s_g_3__1(V0))
  & (forall V0. !(havoc_l2s_g_3(V0) & (!((V0 = t) -> !havoc_l2s_g_3__1(V0)))))
  & (forall V0. havoc_l2s_g_4(V0) -> havoc_l2s_g_4__1(V0))
  & (forall V0. !(havoc_l2s_g_4(V0) & (!(havoc_l2s_g_3__1(V0) -> !havoc_l2s_g_4__1(V0)))))
  & (forall V0. havoc_l2s_g_3__1(V0) -> !false)
  & (forall V0. havoc_l2s_g_4__1(V0) -> !havoc_l2s_g_3__1(V0))
  # transitions:
  & (new(_old_l2s_g_3(V0)) <-> havoc_l2s_g_3(V0))
  & (new(_old_l2s_g_4(V0)) <-> havoc_l2s_g_4(V0))
  & (new(l2s_d(T0)) <-> (((l2s_d(T0) & (T0 != t)) | (true & (T0 = t))) & (T0 != t0)) | (true & (T0 = t0)))
  & (new(l2s_g_3(V0)) <-> havoc_l2s_g_3__1(V0))
  & (new(l2s_g_4(V0)) <-> havoc_l2s_g_4__1(V0))
  & (new(l2s_w_1(V0)) <-> (l2s_w_1(V0) & (!((V0 = t) & !havoc_l2s_g_3(V0)))) & (!(false & !havoc_l2s_g_3__1(V0))))
  & (new(locked) <-> false)
  & (new(pc_atomic_store(T)) <-> (pc_atomic_store(T) & (T != t)) | (false & (T = t)))
  & (new(pc_futex_wake(T)) <-> (pc_futex_wake(T) & (T != t)) | (true & (T = t)))
  & (new(scheduled(T)) <-> false)

transition step_futex_wake_if_some(t, t0)
  modifies _old_l2s_g_0, _old_l2s_g_2, _old_l2s_g_3, _old_l2s_g_4, l2s_d, l2s_g_0, l2s_g_2, l2s_g_3, l2s_g_4, l2s_w_1, pc_finished, pc_futex_wake, queue, scheduled
  # assumes:
  & (l2s_g_1 -> (!(forall T. d(T))))
  & (forall V0. l2s_g_4(V0) -> !l2s_g_3(V0))
  & (l2s_g_0 -> !pc_finished(t0))
  & (forall V0. l2s_g_3(V0) -> !scheduled(V0))
  & (forall V0. l2s_g_2(V0) -> !pc_finished(V0))
  & pc_futex_wake(t)
  & queue(t0)
  & (l2s_g_0 -> havoc_l2s_g_0)
  & (!(l2s_g_0 & (!(pc_finished(t0) -> !havoc_l2s_g_0))))
  & (forall V0. l2s_g_2(V0) -> havoc_l2s_g_2(V0))
  & (forall V0. !(l2s_g_2(V0) & (!(pc_finished(V0) -> !havoc_l2s_g_2(V0)))))
  & (havoc_l2s_g_0 -> (!((pc_finished(t0) & (t0 != t)) | (true & (t0 = t)))))
  & (forall V0. havoc_l2s_g_2(V0) -> (!((pc_finished(V0) & (V0 != t)) | (true & (V0 = t)))))
  & (forall V0. l2s_g_3(V0) -> havoc_l2s_g_3__2(V0))
  & (forall V0. !(l2s_g_3(V0) & (!(scheduled(V0) -> !havoc_l2s_g_3__2(V0)))))
  & (forall V0. l2s_g_4(V0) -> havoc_l2s_g_4__2(V0))
  & (forall V0. !(l2s_g_4(V0) & (!(havoc_l2s_g_3__2(V0) -> !havoc_l2s_g_4__2(V0)))))
  & (forall V0. havoc_l2s_g_3__2(V0) -> (!(V0 = t)))
  & (forall V0. havoc_l2s_g_4__2(V0) -> !havoc_l2s_g_3__2(V0))
  & (forall V0. havoc_l2s_g_3__2(V0) -> havoc_l2s_g_3__3(V0))
  & (forall V0. !(havoc_l2s_g_3__2(V0) & (!((V0 = t) -> !havoc_l2s_g_3__3(V0)))))
  & (forall V0. havoc_l2s_g_4__2(V0) -> havoc_l2s_g_4__3(V0))
  & (forall V0. !(havoc_l2s_g_4__2(V0) & (!(havoc_l2s_g_3__3(V0) -> !havoc_l2s_g_4__3(V0)))))
  & (forall V0. havoc_l2s_g_3__3(V0) -> !false)
  & (forall V0. havoc_l2s_g_4__3(V0) -> !havoc_l2s_g_3__3(V0))
  # transitions:
  & (new(_old_l2s_g_0) <-> l2s_g_0)
  & (new(_old_l2s_g_2(V0)) <-> l2s_g_2(V0))
  & (new(_old_l2s_g_3(V0)) <-> havoc_l2s_g_3__2(V0))
  & (new(_old_l2s_g_4(V0)) <-> havoc_l2s_g_4__2(V0))
  & (new(l2s_d(T0)) <-> (((l2s_d(T0) & (T0 != t)) | (true & (T0 = t))) & (T0 != t0)) | (true & (T0 = t0)))
  & (new(l2s_g_0) <-> havoc_l2s_g_0)
  & (new(l2s_g_2(V0)) <-> havoc_l2s_g_2(V0))
  & (new(l2s_g_3(V0)) <-> havoc_l2s_g_3__3(V0))
  & (new(l2s_g_4(V0)) <-> havoc_l2s_g_4__3(V0))
  & (new(l2s_w_1(V0)) <-> (l2s_w_1(V0) & (!((V0 = t) & !havoc_l2s_g_3__2(V0)))) & (!(false & !havoc_l2s_g_3__3(V0))))
  & (new(pc_finished(T)) <-> (pc_finished(T) & (T != t)) | (true & (T = t)))
  & (new(pc_futex_wake(T)) <-> (pc_futex_wake(T) & (T != t)) | (false & (T = t)))
  & (new(queue(T0)) <-> (queue(T0) & (T0 != t0)) | (false & (T0 = t0)))
  & (new(scheduled(T)) <-> false)

transition step_futex_wake_if_some_else(t)
  modifies _old_l2s_g_0, _old_l2s_g_2, _old_l2s_g_3, _old_l2s_g_4, l2s_d, l2s_g_0, l2s_g_2, l2s_g_3, l2s_g_4, l2s_w_1, pc_finished, pc_futex_wake, scheduled
  # assumes:
  & (l2s_g_1 -> (!(forall T. d(T))))
  & (forall V0. l2s_g_4(V0) -> !l2s_g_3(V0))
  & (l2s_g_0 -> !pc_finished(t0))
  & (forall V0. l2s_g_3(V0) -> !scheduled(V0))
  & (forall V0. l2s_g_2(V0) -> !pc_finished(V0))
  & pc_futex_wake(t)
  & (forall t0. !queue(t0))
  & (l2s_g_0 -> havoc_l2s_g_0__1)
  & (!(l2s_g_0 & (!(pc_finished(t0) -> !havoc_l2s_g_0__1))))
  & (forall V0. l2s_g_2(V0) -> havoc_l2s_g_2__1(V0))
  & (forall V0. !(l2s_g_2(V0) & (!(pc_finished(V0) -> !havoc_l2s_g_2__1(V0)))))
  & (havoc_l2s_g_0__1 -> (!((pc_finished(t0) & (t0 != t)) | (true & (t0 = t)))))
  & (forall V0. havoc_l2s_g_2__1(V0) -> (!((pc_finished(V0) & (V0 != t)) | (true & (V0 = t)))))
  & (forall V0. l2s_g_3(V0) -> havoc_l2s_g_3__4(V0))
  & (forall V0. !(l2s_g_3(V0) & (!(scheduled(V0) -> !havoc_l2s_g_3__4(V0)))))
  & (forall V0. l2s_g_4(V0) -> havoc_l2s_g_4__4(V0))
  & (forall V0. !(l2s_g_4(V0) & (!(havoc_l2s_g_3__4(V0) -> !havoc_l2s_g_4__4(V0)))))
  & (forall V0. havoc_l2s_g_3__4(V0) -> (!(V0 = t)))
  & (forall V0. havoc_l2s_g_4__4(V0) -> !havoc_l2s_g_3__4(V0))
  & (forall V0. havoc_l2s_g_3__4(V0) -> havoc_l2s_g_3__5(V0))
  & (forall V0. !(havoc_l2s_g_3__4(V0) & (!((V0 = t) -> !havoc_l2s_g_3__5(V0)))))
  & (forall V0. havoc_l2s_g_4__4(V0) -> havoc_l2s_g_4__5(V0))
  & (forall V0. !(havoc_l2s_g_4__4(V0) & (!(havoc_l2s_g_3__5(V0) -> !havoc_l2s_g_4__5(V0)))))
  & (forall V0. havoc_l2s_g_3__5(V0) -> !false)
  & (forall V0. havoc_l2s_g_4__5(V0) -> !havoc_l2s_g_3__5(V0))
  # transitions:
  & (new(_old_l2s_g_0) <-> l2s_g_0)
  & (new(_old_l2s_g_2(V0)) <-> l2s_g_2(V0))
  & (new(_old_l2s_g_3(V0)) <-> havoc_l2s_g_3__4(V0))
  & (new(_old_l2s_g_4(V0)) <-> havoc_l2s_g_4__4(V0))
  & (new(l2s_d(T0)) <-> (((l2s_d(T0) & (T0 != t)) | (true & (T0 = t))) & (T0 != t0)) | (true & (T0 = t0)))
  & (new(l2s_g_0) <-> havoc_l2s_g_0__1)
  & (new(l2s_g_2(V0)) <-> havoc_l2s_g_2__1(V0))
  & (new(l2s_g_3(V0)) <-> havoc_l2s_g_3__5(V0))
  & (new(l2s_g_4(V0)) <-> havoc_l2s_g_4__5(V0))
  & (new(l2s_w_1(V0)) <-> (l2s_w_1(V0) & (!((V0 = t) & !havoc_l2s_g_3__4(V0)))) & (!(false & !havoc_l2s_g_3__5(V0))))
  & (new(pc_finished(T)) <-> (pc_finished(T) & (T != t)) | (true & (T = t)))
  & (new(pc_futex_wake(T)) <-> (pc_futex_wake(T) & (T != t)) | (false & (T = t)))
  & (new(scheduled(T)) <-> false)

transition step_futex_wait(t)
  modifies _old_l2s_g_3, _old_l2s_g_4, l2s_d, l2s_g_3, l2s_g_4, l2s_w_1, pc_atomic_cas, pc_futex_wait, pc_kernel_wait, queue, scheduled
  # assumes:
  & (l2s_g_1 -> (!(forall T. d(T))))
  & (forall V0. l2s_g_4(V0) -> !l2s_g_3(V0))
  & (l2s_g_0 -> !pc_finished(t0))
  & (forall V0. l2s_g_3(V0) -> !scheduled(V0))
  & (forall V0. l2s_g_2(V0) -> !pc_finished(V0))
  & pc_futex_wait(t)
  & (forall V0. l2s_g_3(V0) -> havoc_l2s_g_3__6(V0))
  & (forall V0. !(l2s_g_3(V0) & (!(scheduled(V0) -> !havoc_l2s_g_3__6(V0)))))
  & (forall V0. l2s_g_4(V0) -> havoc_l2s_g_4__6(V0))
  & (forall V0. !(l2s_g_4(V0) & (!(havoc_l2s_g_3__6(V0) -> !havoc_l2s_g_4__6(V0)))))
  & (forall V0. havoc_l2s_g_3__6(V0) -> (!(V0 = t)))
  & (forall V0. havoc_l2s_g_4__6(V0) -> !havoc_l2s_g_3__6(V0))
  & (forall V0. havoc_l2s_g_3__6(V0) -> havoc_l2s_g_3__7(V0))
  & (forall V0. !(havoc_l2s_g_3__6(V0) & (!((V0 = t) -> !havoc_l2s_g_3__7(V0)))))
  & (forall V0. havoc_l2s_g_4__6(V0) -> havoc_l2s_g_4__7(V0))
  & (forall V0. !(havoc_l2s_g_4__6(V0) & (!(havoc_l2s_g_3__7(V0) -> !havoc_l2s_g_4__7(V0)))))
  & (forall V0. havoc_l2s_g_3__7(V0) -> !false)
  & (forall V0. havoc_l2s_g_4__7(V0) -> !havoc_l2s_g_3__7(V0))
  # transitions:
  & (new(_old_l2s_g_3(V0)) <-> havoc_l2s_g_3__6(V0))
  & (new(_old_l2s_g_4(V0)) <-> havoc_l2s_g_4__6(V0))
  & (new(l2s_d(T0)) <-> (((l2s_d(T0) & (T0 != t)) | (true & (T0 = t))) & (T0 != t0)) | (true & (T0 = t0)))
  & (new(l2s_g_3(V0)) <-> havoc_l2s_g_3__7(V0))
  & (new(l2s_g_4(V0)) <-> havoc_l2s_g_4__7(V0))
  & (new(l2s_w_1(V0)) <-> (l2s_w_1(V0) & (!((V0 = t) & !havoc_l2s_g_3__6(V0)))) & (!(false & !havoc_l2s_g_3__7(V0))))
  & (new(pc_atomic_cas(T)) <-> (pc_atomic_cas(T) & (T != t)) | (((!locked & true) | (!!locked & pc_atomic_cas(t))) & (T = t)))
  & (new(pc_futex_wait(T)) <-> (pc_futex_wait(T) & (T != t)) | (false & (T = t)))
  & (new(pc_kernel_wait(T)) <-> (pc_kernel_wait(T) & (T != t)) | (((locked & true) | (!locked & pc_kernel_wait(t))) & (T = t)))
  & (new(queue(T)) <-> (queue(T) & (T != t)) | (((locked & true) | (!locked & queue(t))) & (T = t)))
  & (new(scheduled(T)) <-> false)

transition step_finished(t)
  modifies _old_l2s_g_3, _old_l2s_g_4, l2s_d, l2s_g_3, l2s_g_4, l2s_w_1, scheduled
  # assumes:
  & (l2s_g_1 -> (!(forall T. d(T))))
  & (forall V0. l2s_g_4(V0) -> !l2s_g_3(V0))
  & (l2s_g_0 -> !pc_finished(t0))
  & (forall V0. l2s_g_3(V0) -> !scheduled(V0))
  & (forall V0. l2s_g_2(V0) -> !pc_finished(V0))
  & pc_finished(t)
  & (forall V0. l2s_g_3(V0) -> havoc_l2s_g_3__8(V0))
  & (forall V0. !(l2s_g_3(V0) & (!(scheduled(V0) -> !havoc_l2s_g_3__8(V0)))))
  & (forall V0. l2s_g_4(V0) -> havoc_l2s_g_4__8(V0))
  & (forall V0. !(l2s_g_4(V0) & (!(havoc_l2s_g_3__8(V0) -> !havoc_l2s_g_4__8(V0)))))
  & (forall V0. havoc_l2s_g_3__8(V0) -> (!(V0 = t)))
  & (forall V0. havoc_l2s_g_4__8(V0) -> !havoc_l2s_g_3__8(V0))
  & (forall V0. havoc_l2s_g_3__8(V0) -> havoc_l2s_g_3__9(V0))
  & (forall V0. !(havoc_l2s_g_3__8(V0) & (!((V0 = t) -> !havoc_l2s_g_3__9(V0)))))
  & (forall V0. havoc_l2s_g_4__8(V0) -> havoc_l2s_g_4__9(V0))
  & (forall V0. !(havoc_l2s_g_4__8(V0) & (!(havoc_l2s_g_3__9(V0) -> !havoc_l2s_g_4__9(V0)))))
  & (forall V0. havoc_l2s_g_3__9(V0) -> !false)
  & (forall V0. havoc_l2s_g_4__9(V0) -> !havoc_l2s_g_3__9(V0))
  # transitions:
  & (new(_old_l2s_g_3(V0)) <-> havoc_l2s_g_3__8(V0))
  & (new(_old_l2s_g_4(V0)) <-> havoc_l2s_g_4__8(V0))
  & (new(l2s_d(T0)) <-> (((l2s_d(T0) & (T0 != t)) | (true & (T0 = t))) & (T0 != t0)) | (true & (T0 = t0)))
  & (new(l2s_g_3(V0)) <-> havoc_l2s_g_3__9(V0))
  & (new(l2s_g_4(V0)) <-> havoc_l2s_g_4__9(V0))
  & (new(l2s_w_1(V0)) <-> (l2s_w_1(V0) & (!((V0 = t) & !havoc_l2s_g_3__8(V0)))) & (!(false & !havoc_l2s_g_3__9(V0))))
  & (new(scheduled(T)) <-> false)

transition step_atomic_cas(t)
  modifies _old_l2s_g_3, _old_l2s_g_4, l2s_d, l2s_g_3, l2s_g_4, l2s_w_1, locked, pc_atomic_cas, pc_atomic_store, pc_futex_wait, scheduled
  # assumes:
  & (l2s_g_1 -> (!(forall T. d(T))))
  & (forall V0. l2s_g_4(V0) -> !l2s_g_3(V0))
  & (l2s_g_0 -> !pc_finished(t0))
  & (forall V0. l2s_g_3(V0) -> !scheduled(V0))
  & (forall V0. l2s_g_2(V0) -> !pc_finished(V0))
  & pc_atomic_cas(t)
  & (forall V0. l2s_g_3(V0) -> havoc_l2s_g_3__10(V0))
  & (forall V0. !(l2s_g_3(V0) & (!(scheduled(V0) -> !havoc_l2s_g_3__10(V0)))))
  & (forall V0. l2s_g_4(V0) -> havoc_l2s_g_4__10(V0))
  & (forall V0. !(l2s_g_4(V0) & (!(havoc_l2s_g_3__10(V0) -> !havoc_l2s_g_4__10(V0)))))
  & (forall V0. havoc_l2s_g_3__10(V0) -> (!(V0 = t)))
  & (forall V0. havoc_l2s_g_4__10(V0) -> !havoc_l2s_g_3__10(V0))
  & (forall V0. havoc_l2s_g_3__10(V0) -> havoc_l2s_g_3__11(V0))
  & (forall V0. !(havoc_l2s_g_3__10(V0) & (!((V0 = t) -> !havoc_l2s_g_3__11(V0)))))
  & (forall V0. havoc_l2s_g_4__10(V0) -> havoc_l2s_g_4__11(V0))
  & (forall V0. !(havoc_l2s_g_4__10(V0) & (!(havoc_l2s_g_3__11(V0) -> !havoc_l2s_g_4__11(V0)))))
  & (forall V0. havoc_l2s_g_3__11(V0) -> !false)
  & (forall V0. havoc_l2s_g_4__11(V0) -> !havoc_l2s_g_3__11(V0))
  # transitions:
  & (new(_old_l2s_g_3(V0)) <-> havoc_l2s_g_3__10(V0))
  & (new(_old_l2s_g_4(V0)) <-> havoc_l2s_g_4__10(V0))
  & (new(l2s_d(T0)) <-> (((l2s_d(T0) & (T0 != t)) | (true & (T0 = t))) & (T0 != t0)) | (true & (T0 = t0)))
  & (new(l2s_g_3(V0)) <-> havoc_l2s_g_3__11(V0))
  & (new(l2s_g_4(V0)) <-> havoc_l2s_g_4__11(V0))
  & (new(l2s_w_1(V0)) <-> (l2s_w_1(V0) & (!((V0 = t) & !havoc_l2s_g_3__10(V0)))) & (!(false & !havoc_l2s_g_3__11(V0))))
  & (new(locked) <-> (!locked & true) | (!!locked & locked))
  & (new(pc_atomic_cas(T)) <-> (pc_atomic_cas(T) & (T != t)) | (false & (T = t)))
  & (new(pc_atomic_store(T)) <-> (pc_atomic_store(T) & (T != t)) | (((!locked & true) | (!!locked & pc_atomic_store(t))) & (T = t)))
  & (new(pc_futex_wait(T)) <-> (pc_futex_wait(T) & (T != t)) | (((locked & true) | (!locked & pc_futex_wait(t))) & (T = t)))
  & (new(scheduled(T)) <-> false)

transition step_kernel_wait(t)
  modifies _old_l2s_g_3, _old_l2s_g_4, l2s_d, l2s_g_3, l2s_g_4, l2s_w_1, pc_atomic_cas, pc_kernel_wait, scheduled
  # assumes:
  & (l2s_g_1 -> (!(forall T. d(T))))
  & (forall V0. l2s_g_4(V0) -> !l2s_g_3(V0))
  & (l2s_g_0 -> !pc_finished(t0))
  & (forall V0. l2s_g_3(V0) -> !scheduled(V0))
  & (forall V0. l2s_g_2(V0) -> !pc_finished(V0))
  & pc_kernel_wait(t)
  & (forall V0. l2s_g_3(V0) -> havoc_l2s_g_3__12(V0))
  & (forall V0. !(l2s_g_3(V0) & (!(scheduled(V0) -> !havoc_l2s_g_3__12(V0)))))
  & (forall V0. l2s_g_4(V0) -> havoc_l2s_g_4__12(V0))
  & (forall V0. !(l2s_g_4(V0) & (!(havoc_l2s_g_3__12(V0) -> !havoc_l2s_g_4__12(V0)))))
  & (forall V0. havoc_l2s_g_3__12(V0) -> (!(V0 = t)))
  & (forall V0. havoc_l2s_g_4__12(V0) -> !havoc_l2s_g_3__12(V0))
  & (forall V0. havoc_l2s_g_3__12(V0) -> havoc_l2s_g_3__13(V0))
  & (forall V0. !(havoc_l2s_g_3__12(V0) & (!((V0 = t) -> !havoc_l2s_g_3__13(V0)))))
  & (forall V0. havoc_l2s_g_4__12(V0) -> havoc_l2s_g_4__13(V0))
  & (forall V0. !(havoc_l2s_g_4__12(V0) & (!(havoc_l2s_g_3__13(V0) -> !havoc_l2s_g_4__13(V0)))))
  & (forall V0. havoc_l2s_g_3__13(V0) -> !false)
  & (forall V0. havoc_l2s_g_4__13(V0) -> !havoc_l2s_g_3__13(V0))
  # transitions:
  & (new(_old_l2s_g_3(V0)) <-> havoc_l2s_g_3__12(V0))
  & (new(_old_l2s_g_4(V0)) <-> havoc_l2s_g_4__12(V0))
  & (new(l2s_d(T0)) <-> (((l2s_d(T0) & (T0 != t)) | (true & (T0 = t))) & (T0 != t0)) | (true & (T0 = t0)))
  & (new(l2s_g_3(V0)) <-> havoc_l2s_g_3__13(V0))
  & (new(l2s_g_4(V0)) <-> havoc_l2s_g_4__13(V0))
  & (new(l2s_w_1(V0)) <-> (l2s_w_1(V0) & (!((V0 = t) & !havoc_l2s_g_3__12(V0)))) & (!(false & !havoc_l2s_g_3__13(V0))))
  & (new(pc_atomic_cas(T)) <-> (pc_atomic_cas(T) & (T != t)) | (((!queue(t) & true) | (!!queue(t) & pc_atomic_cas(t))) & (T = t)))
  & (new(pc_kernel_wait(T)) <-> (pc_kernel_wait(T) & (T != t)) | (((!queue(t) & false) | (!!queue(t) & pc_kernel_wait(t))) & (T = t)))
  & (new(scheduled(T)) <-> false)

transition idle()
  modifies l2s_a, l2s_d, l2s_frozen, l2s_s_0, l2s_s_1, l2s_s_2, l2s_s_3, l2s_s_4, l2s_s_5, l2s_s_6, l2s_s_7, l2s_saved, l2s_w_0, l2s_w_1, l2s_waiting
  # assumes:
  & (havoc_path -> l2s_waiting)
  & (havoc_path -> (forall V0. !l2s_w_1(V0)))
  & (havoc_path -> !l2s_w_0)
  & ((!havoc_path & havoc_path__1) -> ((havoc_path & true) | (!havoc_path & l2s_frozen)))
  & (l2s_g_1 -> (!(forall T. d(T))))
  & (forall V0. l2s_g_4(V0) -> !l2s_g_3(V0))
  & (l2s_g_0 -> !pc_finished(t0))
  & (forall V0. l2s_g_3(V0) -> !scheduled(V0))
  & (forall V0. l2s_g_2(V0) -> !pc_finished(V0))
  # transitions:
  & (new(l2s_a(X)) <-> (havoc_path & l2s_d(X)) | (!havoc_path & l2s_a(X)))
  & (new(l2s_d(T0)) <-> (l2s_d(T0) & (T0 != t0)) | (true & (T0 = t0)))
  & (new(l2s_frozen) <-> ((!havoc_path & havoc_path__1) & false) | ((!(!havoc_path & havoc_path__1)) & l2s_frozen))
  & (new(l2s_s_0) <-> ((!havoc_path & havoc_path__1) & locked) | ((!(!havoc_path & havoc_path__1)) & l2s_s_0))
  & (new(l2s_s_1(V0)) <-> ((!havoc_path & havoc_path__1) & pc_atomic_cas(V0)) | ((!(!havoc_path & havoc_path__1)) & l2s_s_1(V0)))
  & (new(l2s_s_2(V0)) <-> ((!havoc_path & havoc_path__1) & pc_atomic_store(V0)) | ((!(!havoc_path & havoc_path__1)) & l2s_s_2(V0)))
  & (new(l2s_s_3(V0)) <-> ((!havoc_path & havoc_path__1) & pc_finished(V0)) | ((!(!havoc_path & havoc_path__1)) & l2s_s_3(V0)))
  & (new(l2s_s_4(V0)) <-> ((!havoc_path & havoc_path__1) & pc_futex_wait(V0)) | ((!(!havoc_path & havoc_path__1)) & l2s_s_4(V0)))
  & (new(l2s_s_5(V0)) <-> ((!havoc_path & havoc_path__1) & pc_futex_wake(V0)) | ((!(!havoc_path & havoc_path__1)) & l2s_s_5(V0)))
  & (new(l2s_s_6(V0)) <-> ((!havoc_path & havoc_path__1) & pc_kernel_wait(V0)) | ((!(!havoc_path & havoc_path__1)) & l2s_s_6(V0)))
  & (new(l2s_s_7(V0)) <-> ((!havoc_path & havoc_path__1) & queue(V0)) | ((!(!havoc_path & havoc_path__1)) & l2s_s_7(V0)))
  & (new(l2s_saved) <-> ((!havoc_path & havoc_path__1) & true) | ((!(!havoc_path & havoc_path__1)) & l2s_saved))
  & (new(l2s_w_0) <-> ((!havoc_path & havoc_path__1) & (!((forall T. d(T)) & !l2s_g_1))) | ((!(!havoc_path & havoc_path__1)) & l2s_w_0))
  & (new(l2s_w_1(V0)) <-> ((!havoc_path & havoc_path__1) & (l2s_d(V0) & (!(scheduled(V0) & !l2s_g_3(V0))))) | ((!(!havoc_path & havoc_path__1)) & l2s_w_1(V0)))
  & (new(l2s_waiting) <-> (havoc_path & false) | (!havoc_path & l2s_waiting))


